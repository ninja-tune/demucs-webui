function generateUUID(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,c=>(c^crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16))}$(document).ready((function(){const chunkSize=5242880;$("#myForm").on("submit",(async function(event){event.preventDefault();const model=$("#model").val(),stems=$("#stems").val(),emailAddress=$("#emailAddress").val(),file=$("#file")[0].files[0],uuid=generateUUID();if(!file)return void console.error("No file selected");$("#myForm").hide(),$("#completion-message").hide();const totalChunks=Math.ceil(file.size/5242880);for(let chunkIndex=0;chunkIndex<totalChunks;chunkIndex++){const start=5242880*chunkIndex,end=start+5242880,chunk=file.slice(start,end),formData=new FormData;formData.append("model",model),formData.append("stems",stems),formData.append("emailAddress",emailAddress),formData.append("file",chunk),formData.append("chunkIndex",chunkIndex),formData.append("totalChunks",totalChunks),formData.append("fileName",file.name),formData.append("uuid",uuid);try{const response=await fetch("upload_chunk.php",{method:"POST",body:formData}),result=await response.text();console.log(result);const progressPercentage=(chunkIndex+1)/totalChunks*100;$("#progress-bar").width(progressPercentage+"%")}catch(error){console.error("Error uploading chunk:",error)}}$("#completion-message").show()}))}));